# 目录


1. 必败态与核
2. 经典模型
     * Nim 游戏及扩展

</br>
</br>

## 有向图的核

### 定义

1. 外固集

> $\texttt{def}$：对于有向图中的点集 $S$，若任意不在 $S$ 的点存在一条指向 $S$ 内点的边，则 $S$ 为**外固集**。

2. 内固集

> $\texttt{def}$：对于有向图中的点集 $S$，若 $S$ 内点两两无边，则 $S$ 为**内固集**。

</br>

### 应用

$\texttt{lem}$：在有向图游戏中，若有核存在，则一方存在不败策略。

$\texttt{proof}$：

考虑这样一个对应关系：

$$
\begin{cases}
\texttt{核 $\iff$ 必败态}\\
\texttt{核外 $\iff$ 必胜态}\\
\end{cases}
$$

如果当前状态位于核内，由于核为内固集，则下一步必须出核；  
如果当前状态在核外，由于核为外固集，则下一步可以入核。  
又由于必败态位于核内，则某一方可以控制另一方永远位于核内状态，而自己位于核外。

$\texttt{lem}$：有限结点的 DAG 存在唯一的核。

$\texttt{proof}$：

数学归纳法。  
对于无出度结点必然在核内。  
对于有出度结点：  
* 后继均为非核结点，则在核内。
* 否则在不在核内。

</br>
</br>

## 经典模型

### Nim 游戏及扩展

#### 阶梯 Nim

> 有 $n + 1$ 个位置（$0 \sim n$），第 $i$ 个位置有 $i$ 个石子。每次操作可选择 $[1, n]$ 中任意一个位置 $i$ ，将 $[1, a_i]$ 个石子移到 $i - 1$ 位置上。

$\texttt{conclusion}$：

该问题等价于只考虑奇数位置石子的 Nim 游戏。即先手有必胜策略当且仅当：

$$
\left( \oplus_{i \equiv 1 \pmod 2} a_i \right)  = 0
$$

> 其中 $\oplus$ 为异或操作。

$\texttt{proof}$：

若两人均只移动奇数位置的石子，则显然成立。  
若仅考虑奇数位置的石子先手必胜，则后手会尝试移动偶数位置的石子（不然根据 Nim 游戏的结论必败）。假设后手移动第 $i(i \equiv 0 \pmod 2)$ 位的石子到第 $i - 1$ 位，那么先手可以将等量的石子从 $i - 1$ 位移动到 $i - 2$ 位。这样对仅考虑奇数位的 Nim 和没有任何影响。  
综上，阶梯 Nim 等价于只考虑奇数位置石子的 Nim 游戏。